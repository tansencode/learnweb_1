<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>获取位置信息</title>
  <style>
  body{background-color:#fff;}
  </style>
</head>

<body>
<p id="geo_loc"><p>
<script>
function getElem(id)
{
	return typeof id ==='string' ? document.getElementById(id):id;
}

function show_it(lat,lon)
{
	var str='您当前的位置，纬度：'+lat+',经度:'+lon;
	getElem('geo_loc').innerHTML=str;
}

if(navigator.geolocation)
{
	navigator.geolocation.getCurrentPosition(function(position)
	{
		show_it(position.coords.latitude,position.coords.longitude);
	},
	function(err)
	{
		getElem('geo_loc').innerHTML=err.code+"|"+err.message;
	});
}
else
{
	getElem('geo_loc').innerHTML="您当前使用的浏览器不支持Geolocation服务";
}
</script>
	
</body>
</html>
